{"version":3,"file":"index.js","sources":["webpack://VdtnetTable/index.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"VdtnetTable\",[],t):\"object\"==typeof exports?exports.VdtnetTable=t():e.VdtnetTable=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/\",n(n.s=0)}({0:function(e,t,n){e.exports=n(\"tjUo\")},\"63nt\":function(e,t,n){\"use strict\";var r=n(\"tAsi\");n.n(r).a},\"9tPo\":function(e,t){e.exports=function(e){var t=\"undefined\"!=typeof window&&window.location;if(!t)throw new Error(\"fixUrls requires window.location\");if(!e||\"string\"!=typeof e)return e;var n=t.protocol+\"//\"+t.host,r=n+t.pathname.replace(/\\/[^\\/]*$/,\"/\");return e.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(e,t){var a,o=t.trim().replace(/^\"(.*)\"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(o)?e:(a=0===o.indexOf(\"//\")?o:0===o.indexOf(\"/\")?n+o:r+o.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(a)+\")\")})}},JPst:function(e,t,n){\"use strict\";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||\"\",r=e[3];if(!r)return n;if(t&&\"function\"==typeof btoa){var a=(i=r,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\"),o=r.sources.map(function(e){return\"/*# sourceURL=\"+r.sourceRoot+e+\" */\"});return[n].concat(o).concat([a]).join(\"\\n\")}var i;return[n].join(\"\\n\")}(t,e);return t[2]?\"@media \"+t[2]+\"{\"+n+\"}\":n}).join(\"\")},t.i=function(e,n){\"string\"==typeof e&&(e=[[null,e,\"\"]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(a=0;a<e.length;a++){var i=e[a];null!=i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]=\"(\"+i[2]+\") and (\"+n+\")\"),t.push(i))}},t}},Txmi:function(e,t,n){(e.exports=n(\"JPst\")(!1)).push([e.i,\"\\n.select-checkbox, .select-all-checkbox {\\n  cursor: pointer;\\n}\\n.vdtnet-footer .dataTables_length {\\n  padding-top: 6px;\\n  padding-right: 10px;\\n}\\n.vdtnet-footer .dataTables_length, .vdtnet-footer .dataTables_paginate {\\n  float: right;\\n}\\n.hide-footer .vdtnet-footer {\\n  display: none;\\n}\\n.master .details-plus\\n{\\n  cursor: pointer;\\n  display: none;\\n}\\n.details-minus\\n{\\n  cursor: pointer;\\n  display: none;\\n}\\n.master .details-minus\\n{\\n  cursor: pointer;\\n  display: inline;\\n}\\n.details-control {\\n  cursor: pointer;\\n  font-weight: 700;\\n}\\n\",\"\"])},\"aET+\":function(e,t,n){var r,a,o={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=r.apply(this,arguments)),a}),s=function(e){var t={};return function(e,n){if(\"function\"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),l=null,c=0,d=[],u=n(\"9tPo\");function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=o[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(y(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(y(r.parts[i],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},a=0;a<e.length;a++){var o=e[a],i=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=d[d.length-1];if(\"top\"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if(\"bottom\"===e.insertAt)n.appendChild(t);else{if(\"object\"!=typeof e.insertAt||!e.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var a=s(e.insertAt.before,n);n.insertBefore(t,a)}}function b(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function v(e){var t=document.createElement(\"style\");if(void 0===e.attrs.type&&(e.attrs.type=\"text/css\"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return m(t,e.attrs),h(e,t),t}function m(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,a,o;if(t.transform&&e.css){if(!(o=\"function\"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var i=c++;n=l||(l=v(t)),r=w.bind(null,n,i,!1),a=w.bind(null,n,i,!0)}else e.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(e){var t=document.createElement(\"link\");return void 0===e.attrs.type&&(e.attrs.type=\"text/css\"),e.attrs.rel=\"stylesheet\",m(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,a=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||o)&&(r=u(r));a&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\");var i=new Blob([r],{type:\"text/css\"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),a=function(){b(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute(\"media\",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),a=function(){b(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(t=t||{}).attrs=\"object\"==typeof t.attrs?t.attrs:{},t.singleton||\"boolean\"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto=\"head\"),t.insertAt||(t.insertAt=\"bottom\");var n=p(e,t);return f(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var i=n[a];(s=o[i.id]).refs--,r.push(s)}e&&f(p(e,t),t);for(a=0;a<r.length;a++){var s;if(0===(s=r[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var g,x=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join(\"\\n\")});function w(e,t,n,r){var a=n?\"\":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}},tAsi:function(e,t,n){var r=n(\"Txmi\");\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(\"aET+\")(r,a);r.locals&&(e.exports=r.locals)},tjUo:function(e,t,n){\"use strict\";n.r(t);var r=1,a={name:\"VdtnetTable\",props:{id:{type:String,default:null},containerClassName:{type:String,default:\"table-responsive d-print-inline\"},className:{type:String,default:\"table table-striped table-bordered nowrap w-100\"},opts:{type:Object},fields:{type:Object},jquery:{type:Object},selectCheckbox:{type:Number},dataLoader:{type:Function},hideFooter:{type:Boolean},details:{type:Object}},data:function(){return{tableId:null,options:{dom:\"tr<'row vdtnet-footer'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'pl>>\",columns:[],language:{infoFiltered:\"\"},lengthMenu:[[15,100,500,1e3,-1],[15,100,500,1e3,\"All\"]],pageLength:15,buttons:[]},dataTable:null,vdtnet:this}},computed:{jq:function(){return this.jquery||window.jQuery},classes:function(){var e=\"\".concat(this.containerClassName,\" vdtnet-container\");return this.hideFooter&&(e+=\" hide-footer\"),e}},created:function(){var e=arguments,t=this,n=t.jq,a=[],o=0,i=0;if(t.tableId=t.id||\"vdtnetable\".concat(r++),t.opts&&(t.options=n.extend({},t.options,t.opts)),t.fields){var s=t.fields,l=t.options.columns;for(var c in s){var d=s[c];d.name=d.name||c,d.isLocal&&(d.searchable=!1,d.sortable=!1);var u={title:d.label||d.name,width:d.width,data:d.data||d.name,name:d.name,className:d.className};d.width&&(u.width=d.width),d.hasOwnProperty(\"defaultContent\")&&(u.defaultContent=d.defaultContent),d.hasOwnProperty(\"sortable\")&&(u.orderable=d.sortable),d.hasOwnProperty(\"visible\")&&(u.visible=d.visible),d.hasOwnProperty(\"searchable\")&&(u.searchable=d.searchable),d.template&&(d.render=t.compileTemplate(d)),d.render&&(d.render.templated||function(){var n=d.render;d.render=function(){return n.apply(t,e)}}(),u.render=d.render),l.push(u),d.defaultOrder&&a.push([i,d.defaultOrder]),i++}}if(t.options.order=t.options.order||a,t.selectCheckbox){t.selectCheckbox=t.selectCheckbox||1;var f={orderable:!1,searchable:!1,name:\"_select_checkbox\",className:\"select-checkbox d-print-none\",data:null,defaultContent:\"\",title:'<input type=\"checkbox\" class=\"select-all-checkbox d-print-none\">'};t.options.columns.splice(t.selectCheckbox-1,0,f),t.options.select=n.extend(t.options.select||{},{style:\"os\",selector:\"td.select-checkbox\"}),1===t.selectCheckbox&&o++}if(t.details){t.details.index=t.details.index||1;var p={orderable:!1,searchable:!1,name:\"_details_control\",className:\"details-control d-print-none\",data:null,defaultContent:t.details.icons||'<span class=\"details-plus\" title=\"Show details\">+</span><span class=\"details-minus\" title=\"Hide details\">-</span>'};t.options.columns.splice(t.details.index-1,0,p),1===t.details.index&&o++}o>0&&(t.options.order?t.options.order.forEach(function(e){e[0]+=o}):t.options.order=[[o,\"asc\"]]),t.dataLoader&&(delete t.options.ajax,t.options.serverSide=!1)},mounted:function(){var e=arguments,t=this,n=t.jq,r=n(t.$refs.table);if(t.$emit(\"table-creating\",t,r),t.dataTable=r.DataTable(t.options),t.selectCheckbox&&(r.on(\"click\",\"th input.select-all-checkbox\",function(e){n(e.target).is(\":checked\")?t.dataTable.rows().select():t.dataTable.rows().deselect()}),t.dataTable.on(\"select deselect\",function(){var e=r.find(\"th input.select-all-checkbox\");t.dataTable.rows({selected:!0}).count()!==t.dataTable.rows().count()?(n(\"th.select-checkbox\").removeClass(\"selected\"),e.attr(\"checked\",!1)):(n(\"th.select-checkbox\").addClass(\"selected\"),e.attr(\"checked\",!0))})),r.on(\"click\",\"[data-action]\",function(e){e.preventDefault(),e.stopPropagation();for(var r=n(e.target),a=r,o=a.attr(\"data-action\");!o;){if(a.hasClass(\"vdtnet-container\")||\"table\"===a.prop(\"tagName\"))return;o=(a=a.parent()).attr(\"data-action\")}if(o){var i=a.closest(\"tr\");if(i){\"row\"!==i.attr(\"role\")&&(i=i.prev());var s=t.dataTable.row(i),l=s.data();t.$emit(o,l,s,i,a)}else t.$emit(o,null,null,null,r)}}),t.details){var a=t.details.render;t.details.template?a=t.compileTemplate(t.details):a&&(a=function(){return t.details.render.apply(t,e)}),r.on(\"click\",\"td.details-control\",function(e){e.preventDefault(),e.stopPropagation();var r=n(e.target).closest(\"tr\");\"row\"!==r.attr(\"role\")&&(r=r.prev());var o=t.dataTable.row(r);if(o.child.isShown())o.child.hide(),r.removeClass(\"master\");else{var i=o.data();o.child(a(i,\"child\",o,r)).show(),r.addClass(\"master\")}})}t.$emit(\"table-created\",t),t.dataLoader&&t.reload()},beforeDestroy:function(){this.dataTable&&this.dataTable.destroy(!0),this.dataTable=null},methods:{compileTemplate:function(e){var t=this,n=t.jq,r=Vue.compile(\"<div>\".concat(e.template,\"</div>\")),a=function(a,o,i,s){var l=new Vue({data:{data:a,type:o,row:i,meta:s,vdtnet:t,def:e},render:r.render,staticRenderFns:r.staticRenderFns}).$mount();return n(l.$el).html()};return a.templated=!0,a},setTableData:function(e){return e.constructor===Array&&(this.dataTable.clear().rows.add(e),this.dataTable.draw(!1),this.dataTable.columns.adjust()),this},reload:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return t.dataLoader?t.dataLoader(function(e){e&&!e.data&&(e={data:e}),t.setTableData(e.data),t.$emit(\"reloaded\",e,t)}):t.dataTable.ajax.reload(function(e){t.$emit(\"reloaded\",e,t)},e),t},search:function(e){return this.dataTable.search(e).draw(),this},setPageLength:function(e){return this.dataTable.page.len(e),this.reload()},getServerParams:function(){return this.dataLoader?{}:this.dataTable.ajax.params()}}};n(\"63nt\");var o=function(e,t,n,r,a,o,i,s){var l,c=\"function\"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId=\"data-v-\"+o),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}(a,function(){var e=this.$createElement;return(this._self._c||e)(\"div\",{class:this.classes},[this._m(0)])},[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"table\",{ref:\"table\",class:e.className,attrs:{id:e.tableId,cellpadding:\"0\"}},[n(\"thead\",[n(\"tr\",e._l(e.options.columns,function(t,r){return n(\"th\",{key:r,class:t.className},[e._t(\"HEAD_\"+t.name,[n(\"div\",{domProps:{innerHTML:e._s(t.title)}})],{field:t,i:r})],2)}),0)])])}],!1,null,null,null).exports;t.default=o}})});"],"mappings":"AAAA","sourceRoot":""}